# 模型评测系统开发 TODO

## 📋 开发计划

### 阶段一：数据模型和基础API (后端)
- [ ] 1.1 创建评测分类模型 (EvaluationCategory)
- [ ] 1.2 创建评测题目模型 (EvaluationQuestion) 
- [ ] 1.3 创建模型信息模型 (EvaluationModel)
- [ ] 1.4 创建模型答案模型 (ModelAnswer)
- [ ] 1.5 创建分类管理API接口
- [ ] 1.6 创建题目管理API接口
- [ ] 1.7 创建模型管理API接口
- [ ] 1.8 创建答案管理API接口
- [ ] 1.9 创建排行榜统计API接口

### 阶段二：基础前端页面
- [ ] 2.1 安装必要依赖 (katex, dompurify, recharts, monaco-editor)
- [ ] 2.2 创建评测系统路由配置
- [ ] 2.3 创建评测首页 (/evaluation)
- [ ] 2.4 更新主导航，添加评测入口
- [ ] 2.5 创建评测系统统一布局组件

### 阶段三：分类管理功能
- [ ] 3.1 创建分类管理页面 (/evaluation/categories) - 管理员
- [ ] 3.2 实现分类列表展示
- [ ] 3.3 实现添加分类功能（名称、描述、颜色选择器）
- [ ] 3.4 实现编辑分类功能
- [ ] 3.5 实现禁用/启用分类功能
- [ ] 3.6 添加权限验证（只有管理员可操作）

### 阶段四：模型管理功能
- [ ] 4.1 创建模型管理页面 (/evaluation/models) - 管理员
- [ ] 4.2 实现模型列表展示
- [ ] 4.3 实现添加模型功能
- [ ] 4.4 实现编辑模型功能
- [ ] 4.5 实现禁用/启用模型功能

### 阶段五：题目管理功能
- [ ] 5.1 创建题目管理页面 (/evaluation/questions)
- [ ] 5.2 实现题目列表展示（支持按分类筛选）
- [ ] 5.3 创建添加题目页面
- [ ] 5.4 实现题目创建功能（富文本编辑器）
- [ ] 5.5 实现题目编辑功能
- [ ] 5.6 实现题目删除功能
- [ ] 5.7 添加题目搜索功能

### 阶段六：答案录入和渲染功能
- [ ] 6.1 创建答案录入页面 (/evaluation/answer/:questionId)
- [ ] 6.2 实现题目详情展示
- [ ] 6.3 实现模型选择功能
- [ ] 6.4 创建多格式答案编辑器组件
  - [ ] 6.4.1 纯文本模式
  - [ ] 6.4.2 LaTeX模式（集成KaTeX）
  - [ ] 6.4.3 HTML模式（Monaco Editor）
  - [ ] 6.4.4 混合模式（文本+LaTeX）
- [ ] 6.5 实现答案实时预览功能
- [ ] 6.6 实现安全HTML渲染（DOMPurify）
- [ ] 6.7 实现答案保存功能
- [ ] 6.8 实现答案版本管理

### 阶段七：评分系统
- [ ] 7.1 创建评分组件（5个评分按钮：1-5分）
- [ ] 7.2 实现评分界面（在答案录入页面）
- [ ] 7.3 实现评分保存功能
- [ ] 7.4 实现评分历史查看
- [ ] 7.5 创建批量评分页面
- [ ] 7.6 实现评分状态管理

### 阶段八：排行榜和数据可视化
- [ ] 8.1 创建排行榜页面 (/evaluation/leaderboard)
- [ ] 8.2 实现排行榜数据计算逻辑
- [ ] 8.3 实现总排行榜展示
- [ ] 8.4 实现按分类排行榜
- [ ] 8.5 创建雷达图组件（使用Recharts）
- [ ] 8.6 实现多模型对比雷达图
- [ ] 8.7 创建详细统计表格
- [ ] 8.8 实现数据导出功能（CSV/JSON）

### 阶段九：用户体验优化
- [ ] 9.1 添加加载状态和骨架屏
- [ ] 9.2 实现错误处理和提示
- [ ] 9.3 添加操作确认对话框
- [ ] 9.4 实现数据缓存和优化
- [ ] 9.5 添加快捷键支持
- [ ] 9.6 实现响应式设计
- [ ] 9.7 添加暗色主题支持

### 阶段十：集成和测试
- [ ] 10.1 与现有博客系统集成测试
- [ ] 10.2 添加评测数据的博客引用功能
- [ ] 10.3 实现评测结果分享功能
- [ ] 10.4 添加数据备份和恢复
- [ ] 10.5 性能优化和测试
- [ ] 10.6 用户接受度测试

## 🎯 关键技术栈

### 后端新增
- 无需新增依赖，使用现有 Express + MongoDB

### 前端新增
```bash
npm install katex react-katex dompurify recharts @monaco-editor/react
```

## 📊 评分设计确认

### 评分方式
- **分数范围**: 1-5分（整数）
- **UI设计**: 5个评分按钮，点击高亮
- **视觉效果**: 星级或数字按钮，支持点击切换
- **无需理由**: 纯数字评分，简化操作

### 按钮设计示例
```
[1] [2] [3] [4] [5]
 差  较差 一般 良好 优秀
```

或者星级设计：
```
⭐ ⭐⭐ ⭐⭐⭐ ⭐⭐⭐⭐ ⭐⭐⭐⭐⭐
```

## 🚀 开发优先级

**第一批次** (核心功能)：阶段1-3, 5-7
**第二批次** (完善功能)：阶段4, 8
**第三批次** (优化功能)：阶段9-10

## ❓ 待确认细节

1. 评分按钮的具体UI样式偏好？
2. 是否需要批量导入题目功能？
3. 是否需要题目导出/导入功能？
4. 雷达图的维度数量限制？

您希望我从哪个阶段开始实现？建议先从阶段1（数据模型）开始！